<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="tanmay_owl_js.PartnerLoader">
        <div class="p-4">
            <h1>Partner Loader</h1>

            <button t-on-click="loadPartners" class="btn btn-primary">
                Load Partners
            </button>

            <t t-if="state.loading">
                <p>Loading...</p>
            </t>
            <input type="text" placeholder="Search partner..." t-on-input="onSearch" class="form-control mb-2 mt-2" />
            <t t-if="state.partners.length">

                <div class="mt-3 d-flex justify-content-between align-items-center">
                    <button t-on-click="prevPage" t-att-disabled="state.page === 1" class="btn btn-secondary">
        ⬅ Previous
                    </button>

                    <span>
        Page <t t-esc="state.page"/>
        /
                    <t t-esc="Math.ceil(state.total / state.limit)"/>
                </span>

                <button t-on-click="nextPage" t-att-disabled="state.page * state.limit >= state.total" class="btn btn-secondary">
        Next ➡
                </button>
            </div>

            <div class="mt-2" style="max-height: 400px; overflow-y: auto; border: 1px solid #ccc;">
                <table class="table table-bordered">
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                    </tr>
                    <t t-foreach="state.partners" t-as="partner" t-key="partner.id">
                        <tr>
                            <td>
                                <t t-esc="partner.name"/>
                            </td>
                            <td>
                                <t t-esc="partner.email"/>
                            </td>
                        </tr>
                    </t>
                </table>
            </div>
        </t>

        <!-- <ul>
                <t t-foreach="state.partners" t-as="partner" t-key="partner.id">
                    <li>
                        <t t-esc="partner.name"/>
                        <t t-esc="partner.email"/>
                    </li>
                </t>
            </ul> -->
    </div>
</t>

</templates>
